# AdvertismentTask
Для нормальной работы необходимо: SQL Server, подключение к интернету

Загрузка файлов для объявлений по неизвестной мне причине не работает в яндексе, так что стоит тестировать через гугл

Строка подключения к БД по которой обращается приложение: Server=localhost;Database=AdvertismentTask;Trusted_Connection=True;

Аккаунт администратора:

login - Admin

password - 123

После входа в админ аккаун непроверенные объявления можно посмотреть тут

![image](https://user-images.githubusercontent.com/100556773/187788312-48b3a770-dd29-458c-98dd-35ca205d2e90.png)

По умолчанию не проверенные объявления показываются первыми. Для демонстрации пагинации на странице админа кол-во объявлений на страницу ограниченно тремя.
![image](https://user-images.githubusercontent.com/100556773/187788561-6c7fde15-6cb4-42e6-8a40-894e51a0dd76.png)

Это можно изменить в AdminConroller
![image](https://user-images.githubusercontent.com/100556773/187788725-c225a05d-a573-4d22-bae1-898f5d429167.png)

### Контроллеры

* Admin - отвечает за админскую часть
    * CheckAdvertisment - отвечает за вывод списка объявлений на странице администратора
* Advertisment
    * Delate - удаление объявления
    * ChangeAvailable - меняет видимость объявления
    * AdvertismentCard - выводит страницу объявления, если заходит админ, то будут видны кнопки для удаления и изменения видимости объявления
    * Index - выводит страницу для создания объявлений
    * CreateAd - создает объявление и устанавливает картинку по умолчанию если пользователь не загрузил свою
* Home - стандартные действия для всего сайта
    * Index - выводить страницу с объявлениями
    * Denied - страница отказа в доступе
    * Privacy - страница для правил на будещее
    * Logout - выход с аккаунта
* Login - вход
    * Index - выводить страницу с формой для входа
    * Validate - проверяет информацию введенную пользователем и создает куки
* Regist - регистрация
    * Index - выводить страницу с формой для регистрации
    * Registr - регестрирует пользователя

### Модели
* Advertisment - модель объявления для БД
* User - модель пользователя для БД
* AdvertismentViewModel - модель для получений данных с формы для создания объявлений
* ApplicationContext - контекст для взаимодействия с БД по средствам EF Core
* ErrorViewModel - модель для ошибок
* PageViewModel - модель для пагинации, определяет текущую страницу, сколько всего страниц и т.п
* SortState - enum коллекция для видов сортировки объявлений в админской части
* SortViewModel - модель содержащая все текущие установленные виды сортировки 
* IndexViewModel - модель для пагинации с учетом сортировки, совмещает в себе PageViewModel и SortViewModel
* TagHelpers - Tag-хэлперы созданные специально для проекта

        
